<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>LiveFit: TrackingStream Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LiveFit
   </div>
   <div id="projectbrief">Track and plot projectiles for in-class demonstration</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classTrackingStream-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">TrackingStream Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An object which owns some sort of input video stream, manages running it (and any tracking, etc) and emits cv::Mat frames and tracked objects.  
 <a href="classTrackingStream.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="TrackingStream_8hpp_source.html">TrackingStream.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TrackingStream:</div>
<div class="dyncontent">
<div class="center"><img src="classTrackingStream__inherit__graph.png" border="0" usemap="#TrackingStream_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for TrackingStream:</div>
<div class="dyncontent">
<div class="center"><img src="classTrackingStream__coll__graph.png" border="0" usemap="#TrackingStream_coll__map" alt="Collaboration graph"/></div>
<map name="TrackingStream_coll__map" id="TrackingStream_coll__map">
<area shape="rect" id="node3" href="classKFBallTracker.html" title="Contains most of the logic for live&#45;tracking objects. " alt="" coords="104,336,209,363"/>
<area shape="rect" id="node4" href="classPersonTrackingFilter.html" title="A TrackingFilter which contains the necessary logic to find people in frames. " alt="" coords="100,247,243,273"/>
<area shape="rect" id="node5" href="classTrackingFilter.html" title="A wrapper around a KalmanFilter type object; additional logic can be provided through extension..." alt="" coords="167,171,269,197"/>
<area shape="rect" id="node8" href="classBallTrackingFilter.html" title="A TrackingFilter with some specifics for tracking a ball in flight. " alt="" coords="267,247,390,273"/>
<area shape="rect" id="node6" href="classKalmanFilterPlus.html" title="A cv::KalmanFilter which also supports some &#39;forgetful&#39; functionality. " alt="" coords="157,81,279,108"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:ab89c8ac2ef5ee1c6c8f31a99a95a8cfc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab89c8ac2ef5ee1c6c8f31a99a95a8cfc"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ab89c8ac2ef5ee1c6c8f31a99a95a8cfc">start</a> (int cam=0)</td></tr>
<tr class="memdesc:ab89c8ac2ef5ee1c6c8f31a99a95a8cfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a stream with a camera input. <br /></td></tr>
<tr class="separator:ab89c8ac2ef5ee1c6c8f31a99a95a8cfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24e9c3468c90c9ccd14f217edaf8bd38"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a24e9c3468c90c9ccd14f217edaf8bd38"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a24e9c3468c90c9ccd14f217edaf8bd38">start</a> (QString fname)</td></tr>
<tr class="memdesc:a24e9c3468c90c9ccd14f217edaf8bd38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a stream with a filename input. <br /></td></tr>
<tr class="separator:a24e9c3468c90c9ccd14f217edaf8bd38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7d1aeaede96e94984f4a2e9b205076a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad7d1aeaede96e94984f4a2e9b205076a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ad7d1aeaede96e94984f4a2e9b205076a">stop</a> ()</td></tr>
<tr class="memdesc:ad7d1aeaede96e94984f4a2e9b205076a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate the video stream. <br /></td></tr>
<tr class="separator:ad7d1aeaede96e94984f4a2e9b205076a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a086300d68ae7e13fe17ba9ef49c52a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a086300d68ae7e13fe17ba9ef49c52a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a5a086300d68ae7e13fe17ba9ef49c52a">pauseStream</a> ()</td></tr>
<tr class="memdesc:a5a086300d68ae7e13fe17ba9ef49c52a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pause the current video stream. <br /></td></tr>
<tr class="separator:a5a086300d68ae7e13fe17ba9ef49c52a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198d532c89d9d740852fb3a083347ca8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a198d532c89d9d740852fb3a083347ca8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a198d532c89d9d740852fb3a083347ca8">changeProjectorCorners</a> (std::vector&lt; cv::Point2f &gt; corners)</td></tr>
<tr class="memdesc:a198d532c89d9d740852fb3a083347ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the location of projector corners in the image. <br /></td></tr>
<tr class="separator:a198d532c89d9d740852fb3a083347ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8adcb753d8000d41f0f4b94247fc6241"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8adcb753d8000d41f0f4b94247fc6241"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a8adcb753d8000d41f0f4b94247fc6241">changeClipTrack</a> (bool checked)</td></tr>
<tr class="memdesc:a8adcb753d8000d41f0f4b94247fc6241"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set whether or not tracking is clipped to projector. <br /></td></tr>
<tr class="separator:a8adcb753d8000d41f0f4b94247fc6241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87b740965236179e79e3b6c139102a1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab87b740965236179e79e3b6c139102a1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ab87b740965236179e79e3b6c139102a1">predictionBall</a> (<a class="el" href="classKFPrediction.html">KFPrediction</a> pred)</td></tr>
<tr class="memdesc:ab87b740965236179e79e3b6c139102a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alert the stream to a predicted ball. <br /></td></tr>
<tr class="separator:ab87b740965236179e79e3b6c139102a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4292499a860849bd5c80a8b3f182b0bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4292499a860849bd5c80a8b3f182b0bd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a4292499a860849bd5c80a8b3f182b0bd">setFov</a> (int fov)</td></tr>
<tr class="memdesc:a4292499a860849bd5c80a8b3f182b0bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the camera FOV. <br /></td></tr>
<tr class="separator:a4292499a860849bd5c80a8b3f182b0bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a679b2d4db152cc3e4f1699179d84724f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a679b2d4db152cc3e4f1699179d84724f">changeProjWidth</a> (int width)</td></tr>
<tr class="memdesc:a679b2d4db152cc3e4f1699179d84724f"><td class="mdescLeft">&#160;</td><td class="mdescRight">changeProjWidth sets the width of the projector screen (in inches)  <a href="#a679b2d4db152cc3e4f1699179d84724f">More...</a><br /></td></tr>
<tr class="separator:a679b2d4db152cc3e4f1699179d84724f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d1683447659a6d85d5818ee3ee7515"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a74d1683447659a6d85d5818ee3ee7515">changeProjHeight</a> (int height)</td></tr>
<tr class="memdesc:a74d1683447659a6d85d5818ee3ee7515"><td class="mdescLeft">&#160;</td><td class="mdescRight">changeProjHeight sets the height of the projector screen (in inches)  <a href="#a74d1683447659a6d85d5818ee3ee7515">More...</a><br /></td></tr>
<tr class="separator:a74d1683447659a6d85d5818ee3ee7515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab0b2d4efe5723d8d71e072013d33ad9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#aab0b2d4efe5723d8d71e072013d33ad9">changeBallZ</a> (double z)</td></tr>
<tr class="memdesc:aab0b2d4efe5723d8d71e072013d33ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">changeBallZ sets the z-plane that the ball is thrown in (in inches)  <a href="#aab0b2d4efe5723d8d71e072013d33ad9">More...</a><br /></td></tr>
<tr class="separator:aab0b2d4efe5723d8d71e072013d33ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c95186d09320e6a56b0e072e268728"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a13c95186d09320e6a56b0e072e268728">changeBlurSize</a> (double blurSize)</td></tr>
<tr class="memdesc:a13c95186d09320e6a56b0e072e268728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the strength of blur in preprocessing step.  <a href="#a13c95186d09320e6a56b0e072e268728">More...</a><br /></td></tr>
<tr class="separator:a13c95186d09320e6a56b0e072e268728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ebcc20a79d5172594a58a623b69fec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ac8ebcc20a79d5172594a58a623b69fec">changeThreshVal</a> (double thresh)</td></tr>
<tr class="memdesc:ac8ebcc20a79d5172594a58a623b69fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the threshold in preprocessing step.  <a href="#ac8ebcc20a79d5172594a58a623b69fec">More...</a><br /></td></tr>
<tr class="separator:ac8ebcc20a79d5172594a58a623b69fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f10a83e710693e7100ebaaece3feed3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a6f10a83e710693e7100ebaaece3feed3">changeMinRadius</a> (double radius)</td></tr>
<tr class="memdesc:a6f10a83e710693e7100ebaaece3feed3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the min viable radius of a ball blob.  <a href="#a6f10a83e710693e7100ebaaece3feed3">More...</a><br /></td></tr>
<tr class="separator:a6f10a83e710693e7100ebaaece3feed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd621edf60cb02bca056853ff2f9984"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a4fd621edf60cb02bca056853ff2f9984">changeMaxRadius</a> (double radius)</td></tr>
<tr class="memdesc:a4fd621edf60cb02bca056853ff2f9984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the max viable radius of a ball blob.  <a href="#a4fd621edf60cb02bca056853ff2f9984">More...</a><br /></td></tr>
<tr class="separator:a4fd621edf60cb02bca056853ff2f9984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be9d5219a50b43f019de7ce2dcc1898"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a1be9d5219a50b43f019de7ce2dcc1898">changeGravConstant</a> (double g)</td></tr>
<tr class="memdesc:a1be9d5219a50b43f019de7ce2dcc1898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the accel due to gravity g.  <a href="#a1be9d5219a50b43f019de7ce2dcc1898">More...</a><br /></td></tr>
<tr class="separator:a1be9d5219a50b43f019de7ce2dcc1898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32a3ab93ae95a448ed82e7142687cdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ae32a3ab93ae95a448ed82e7142687cdc">changeXYCovariance</a> (double sigma)</td></tr>
<tr class="memdesc:ae32a3ab93ae95a448ed82e7142687cdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the covariance in predicted X, Y (a KF parameter)  <a href="#ae32a3ab93ae95a448ed82e7142687cdc">More...</a><br /></td></tr>
<tr class="separator:ae32a3ab93ae95a448ed82e7142687cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affeb1596b199492467965aa556c5d933"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affeb1596b199492467965aa556c5d933"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#affeb1596b199492467965aa556c5d933">processThresh</a> (const cv::Mat &amp;, enum ColorSpace=TS_GRAY)</td></tr>
<tr class="memdesc:affeb1596b199492467965aa556c5d933"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a "thresholded" frame, with white blobs. <br /></td></tr>
<tr class="separator:affeb1596b199492467965aa556c5d933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b790a7d4ef7265dfb2ab0a97ee73228"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7b790a7d4ef7265dfb2ab0a97ee73228"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a7b790a7d4ef7265dfb2ab0a97ee73228">processBlur</a> (const cv::Mat &amp;, enum ColorSpace=TS_BGR)</td></tr>
<tr class="memdesc:a7b790a7d4ef7265dfb2ab0a97ee73228"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a "blurred" frame. <br /></td></tr>
<tr class="separator:a7b790a7d4ef7265dfb2ab0a97ee73228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9337e639bb763b1bab7c717eaabcc8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd9337e639bb763b1bab7c717eaabcc8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#acd9337e639bb763b1bab7c717eaabcc8">processContour</a> (const cv::Mat &amp;, enum ColorSpace=TS_GRAY)</td></tr>
<tr class="memdesc:acd9337e639bb763b1bab7c717eaabcc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a "contour" frame, which marks contours. <br /></td></tr>
<tr class="separator:acd9337e639bb763b1bab7c717eaabcc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b855ad6d3134cd120fd258cb2923858"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b855ad6d3134cd120fd258cb2923858"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a4b855ad6d3134cd120fd258cb2923858">processVideoFrame</a> (const cv::Mat &amp;mat, ColorSpace=TS_BGR)</td></tr>
<tr class="memdesc:a4b855ad6d3134cd120fd258cb2923858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a "video" frame, which is raw video input. <br /></td></tr>
<tr class="separator:a4b855ad6d3134cd120fd258cb2923858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5208b5276288c0f47689906999d82841"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5208b5276288c0f47689906999d82841"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a5208b5276288c0f47689906999d82841">changeDisplayFrameType</a> (QString s)</td></tr>
<tr class="memdesc:a5208b5276288c0f47689906999d82841"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the type of video frame to actually be emitted. <br /></td></tr>
<tr class="separator:a5208b5276288c0f47689906999d82841"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:a65642f47a391090432e3ea401520cf6d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65642f47a391090432e3ea401520cf6d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a65642f47a391090432e3ea401520cf6d">frameReady</a> (const cv::Mat &amp;, enum ColorSpace=TS_BGR)</td></tr>
<tr class="memdesc:a65642f47a391090432e3ea401520cf6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">frameReady emits a cv::Mat of specified color space for processing <br /></td></tr>
<tr class="separator:a65642f47a391090432e3ea401520cf6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c2e42cf2387b718661be00e52c71f2a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c2e42cf2387b718661be00e52c71f2a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a4c2e42cf2387b718661be00e52c71f2a">ballSpotted</a> (<a class="el" href="classTrackingBall.html">TrackingBall</a> ball)</td></tr>
<tr class="memdesc:a4c2e42cf2387b718661be00e52c71f2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A ball has been spotted (image coordinates) <br /></td></tr>
<tr class="separator:a4c2e42cf2387b718661be00e52c71f2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cab9ddbec00add97b763b0f111dc12c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5cab9ddbec00add97b763b0f111dc12c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a5cab9ddbec00add97b763b0f111dc12c">ballPredicted</a> (<a class="el" href="classKFPrediction.html">KFPrediction</a> pred)</td></tr>
<tr class="memdesc:a5cab9ddbec00add97b763b0f111dc12c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A ball has been predicted (image coordinates) <br /></td></tr>
<tr class="separator:a5cab9ddbec00add97b763b0f111dc12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c0ea6d617a86b32de3df996d6f33c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a87c0ea6d617a86b32de3df996d6f33c2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a87c0ea6d617a86b32de3df996d6f33c2">ballProjSpotted</a> (<a class="el" href="classTrackingBall.html">TrackingBall</a> ball)</td></tr>
<tr class="memdesc:a87c0ea6d617a86b32de3df996d6f33c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">A ball has been spotted (proj coordinates) <br /></td></tr>
<tr class="separator:a87c0ea6d617a86b32de3df996d6f33c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff6ad1d1f81b64ebcbf6235cd87fdecd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff6ad1d1f81b64ebcbf6235cd87fdecd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#aff6ad1d1f81b64ebcbf6235cd87fdecd">ballProjPredicted</a> (<a class="el" href="classKFPrediction.html">KFPrediction</a> pred)</td></tr>
<tr class="memdesc:aff6ad1d1f81b64ebcbf6235cd87fdecd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A ball has been predicted (proj coordinates) <br /></td></tr>
<tr class="separator:aff6ad1d1f81b64ebcbf6235cd87fdecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9420d28c57b65c325f796bb89d5e511"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa9420d28c57b65c325f796bb89d5e511"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#aa9420d28c57b65c325f796bb89d5e511">ballLost</a> ()</td></tr>
<tr class="memdesc:aa9420d28c57b65c325f796bb89d5e511"><td class="mdescLeft">&#160;</td><td class="mdescRight">We have lost track of the ball entirely. <br /></td></tr>
<tr class="separator:aa9420d28c57b65c325f796bb89d5e511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac03f4afb930c3fd81d6d67f94e9a59a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac03f4afb930c3fd81d6d67f94e9a59a0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ac03f4afb930c3fd81d6d67f94e9a59a0">started</a> ()</td></tr>
<tr class="memdesc:ac03f4afb930c3fd81d6d67f94e9a59a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal emitted when stream starts processing. <br /></td></tr>
<tr class="separator:ac03f4afb930c3fd81d6d67f94e9a59a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6d7ef7c7fc262d4e0bc65315c266dd29"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d7ef7c7fc262d4e0bc65315c266dd29"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TrackingStream</b> (QObject *parent=0)</td></tr>
<tr class="separator:a6d7ef7c7fc262d4e0bc65315c266dd29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad349c1e30fb253d5f0df097d16ccb665"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad349c1e30fb253d5f0df097d16ccb665"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ad349c1e30fb253d5f0df097d16ccb665">startProcess</a> ()</td></tr>
<tr class="memdesc:ad349c1e30fb253d5f0df097d16ccb665"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the tracking process. <br /></td></tr>
<tr class="separator:ad349c1e30fb253d5f0df097d16ccb665"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afca5f3b76819d9195ada29e0d7d2697b"><td class="memItemLeft" align="right" valign="top">cv::Point2f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#afca5f3b76819d9195ada29e0d7d2697b">imageToProjector</a> (cv::Point2f imP, double z=0)</td></tr>
<tr class="memdesc:afca5f3b76819d9195ada29e0d7d2697b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert image coordinates to projector coordinates.  <a href="#afca5f3b76819d9195ada29e0d7d2697b">More...</a><br /></td></tr>
<tr class="separator:afca5f3b76819d9195ada29e0d7d2697b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf2d0509a86137709afca937984a0287"><td class="memItemLeft" align="right" valign="top">QPointF&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#acf2d0509a86137709afca937984a0287">imageToProjector</a> (QPointF imP, double z=0)</td></tr>
<tr class="memdesc:acf2d0509a86137709afca937984a0287"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert image coordinates to projector coordinates (qt)  <a href="#acf2d0509a86137709afca937984a0287">More...</a><br /></td></tr>
<tr class="separator:acf2d0509a86137709afca937984a0287"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ba5b7036c99fb6da85d57c0db9b10dd"><td class="memItemLeft" align="right" valign="top">cv::Point2f&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a1ba5b7036c99fb6da85d57c0db9b10dd">projectorToImage</a> (cv::Point3d prP)</td></tr>
<tr class="memdesc:a1ba5b7036c99fb6da85d57c0db9b10dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">projectorToImage converts projector (world) coords to image coords  <a href="#a1ba5b7036c99fb6da85d57c0db9b10dd">More...</a><br /></td></tr>
<tr class="separator:a1ba5b7036c99fb6da85d57c0db9b10dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6416cf962ab5f3726016504c59c2363a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6416cf962ab5f3726016504c59c2363a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a6416cf962ab5f3726016504c59c2363a">updateProjectorCoordinates</a> (std::vector&lt; cv::Point2f &gt; corners)</td></tr>
<tr class="memdesc:a6416cf962ab5f3726016504c59c2363a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the in-image coordinates of the projector corners. <br /></td></tr>
<tr class="separator:a6416cf962ab5f3726016504c59c2363a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99326e76a6b511cdd6f49fdff67db235"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a99326e76a6b511cdd6f49fdff67db235"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a99326e76a6b511cdd6f49fdff67db235">setProjSize</a> (const QSize &amp;projSize)</td></tr>
<tr class="memdesc:a99326e76a6b511cdd6f49fdff67db235"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the size of the projector (in real units) <br /></td></tr>
<tr class="separator:a99326e76a6b511cdd6f49fdff67db235"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac16a6fcb195581434fbd049944524a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aac16a6fcb195581434fbd049944524a3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#aac16a6fcb195581434fbd049944524a3">refreshCameraMatrix</a> ()</td></tr>
<tr class="memdesc:aac16a6fcb195581434fbd049944524a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the camera matrices. <br /></td></tr>
<tr class="separator:aac16a6fcb195581434fbd049944524a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adadff3452ad54ec239cbdeaf687863a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adadff3452ad54ec239cbdeaf687863a0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#adadff3452ad54ec239cbdeaf687863a0">refreshProjectorMatrices</a> ()</td></tr>
<tr class="memdesc:adadff3452ad54ec239cbdeaf687863a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the projector transformation matrices. <br /></td></tr>
<tr class="separator:adadff3452ad54ec239cbdeaf687863a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7579ead32eb9110b84f8665c9eb6f72d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a7579ead32eb9110b84f8665c9eb6f72d">cameraValid</a> (int idx)</td></tr>
<tr class="memdesc:a7579ead32eb9110b84f8665c9eb6f72d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a camera index is valid.  <a href="#a7579ead32eb9110b84f8665c9eb6f72d">More...</a><br /></td></tr>
<tr class="separator:a7579ead32eb9110b84f8665c9eb6f72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abf01ea9fb604e3d748c28827562b3a6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#abf01ea9fb604e3d748c28827562b3a6e">timerEvent</a> (QTimerEvent *)</td></tr>
<tr class="memdesc:abf01ea9fb604e3d748c28827562b3a6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a timer event: Read the next frame, process it, emit it.  <a href="#abf01ea9fb604e3d748c28827562b3a6e">More...</a><br /></td></tr>
<tr class="separator:abf01ea9fb604e3d748c28827562b3a6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a969e6746e625d491b4355ff210a0f39a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a969e6746e625d491b4355ff210a0f39a"></a>
QBasicTimer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a969e6746e625d491b4355ff210a0f39a">mTimer</a></td></tr>
<tr class="memdesc:a969e6746e625d491b4355ff210a0f39a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timer for processing frames. <br /></td></tr>
<tr class="separator:a969e6746e625d491b4355ff210a0f39a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae805e55788c3e8770879568002e84e49"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae805e55788c3e8770879568002e84e49"></a>
QScopedPointer&lt; cv::VideoCapture &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ae805e55788c3e8770879568002e84e49">mVideoHandle</a></td></tr>
<tr class="memdesc:ae805e55788c3e8770879568002e84e49"><td class="mdescLeft">&#160;</td><td class="mdescRight">The handler for the input video stream. <br /></td></tr>
<tr class="separator:ae805e55788c3e8770879568002e84e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d7229ae0abe3f2f2d41e7e1ba6db7f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a34d7229ae0abe3f2f2d41e7e1ba6db7f">mFov</a></td></tr>
<tr class="memdesc:a34d7229ae0abe3f2f2d41e7e1ba6db7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The FOV of the camera.  <a href="#a34d7229ae0abe3f2f2d41e7e1ba6db7f">More...</a><br /></td></tr>
<tr class="separator:a34d7229ae0abe3f2f2d41e7e1ba6db7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30570269be03e984c7db9e6b36163d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae30570269be03e984c7db9e6b36163d3"></a>
QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ae30570269be03e984c7db9e6b36163d3">mVideoSize</a></td></tr>
<tr class="memdesc:ae30570269be03e984c7db9e6b36163d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dimensions of the video stream. <br /></td></tr>
<tr class="separator:ae30570269be03e984c7db9e6b36163d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a194f58319495ea58686c142a18b65476"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a194f58319495ea58686c142a18b65476"></a>
QSize&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a194f58319495ea58686c142a18b65476">mProjSize</a></td></tr>
<tr class="memdesc:a194f58319495ea58686c142a18b65476"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dimensions (in real world units) of the projector screen. <br /></td></tr>
<tr class="separator:a194f58319495ea58686c142a18b65476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82524ed8f3fa752684a2796c10994c4e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a82524ed8f3fa752684a2796c10994c4e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a82524ed8f3fa752684a2796c10994c4e">mBallZ</a></td></tr>
<tr class="memdesc:a82524ed8f3fa752684a2796c10994c4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The distance of the ball plane from the projector plane (in real world units) <br /></td></tr>
<tr class="separator:a82524ed8f3fa752684a2796c10994c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4a1620f5b3ad8ee91cc40aa586c7bb"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a7c4a1620f5b3ad8ee91cc40aa586c7bb">mProjCornersCamera</a></td></tr>
<tr class="memdesc:a7c4a1620f5b3ad8ee91cc40aa586c7bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The location of projector coordinates in world (real units)  <a href="#a7c4a1620f5b3ad8ee91cc40aa586c7bb">More...</a><br /></td></tr>
<tr class="separator:a7c4a1620f5b3ad8ee91cc40aa586c7bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a9669165a38a0e3027d4fd9f8c60ca"><td class="memItemLeft" align="right" valign="top">std::vector&lt; cv::Point2f &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a74a9669165a38a0e3027d4fd9f8c60ca">mCorners</a></td></tr>
<tr class="memdesc:a74a9669165a38a0e3027d4fd9f8c60ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">The location of projector coordinates in the image.  <a href="#a74a9669165a38a0e3027d4fd9f8c60ca">More...</a><br /></td></tr>
<tr class="separator:a74a9669165a38a0e3027d4fd9f8c60ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c019129608f23628c5d24b5dc9c384"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7c019129608f23628c5d24b5dc9c384"></a>
std::vector&lt; cv::Point2f &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ab7c019129608f23628c5d24b5dc9c384">mBallPlane</a></td></tr>
<tr class="memdesc:ab7c019129608f23628c5d24b5dc9c384"><td class="mdescLeft">&#160;</td><td class="mdescRight">The bounding polygon of image coordinates which project to ball coordinates that live in the projector screen. <br /></td></tr>
<tr class="separator:ab7c019129608f23628c5d24b5dc9c384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4a91278c9dc671d43e8284c2fa92a6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b4a91278c9dc671d43e8284c2fa92a6"></a>
cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a8b4a91278c9dc671d43e8284c2fa92a6">mCameraMatrix</a></td></tr>
<tr class="memdesc:a8b4a91278c9dc671d43e8284c2fa92a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The intrinsic camera matrix. <br /></td></tr>
<tr class="separator:a8b4a91278c9dc671d43e8284c2fa92a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada535422209fba660899dc3f7d41ddef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ada535422209fba660899dc3f7d41ddef"></a>
cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ada535422209fba660899dc3f7d41ddef">mRMatrix</a></td></tr>
<tr class="memdesc:ada535422209fba660899dc3f7d41ddef"><td class="mdescLeft">&#160;</td><td class="mdescRight">The camera's extrinsic(?) rotation matrix. <br /></td></tr>
<tr class="separator:ada535422209fba660899dc3f7d41ddef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab5b4cedd560ec7a6e10ed58c9a07a4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ab5b4cedd560ec7a6e10ed58c9a07a4"></a>
cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a8ab5b4cedd560ec7a6e10ed58c9a07a4">mTVector</a></td></tr>
<tr class="memdesc:a8ab5b4cedd560ec7a6e10ed58c9a07a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The camera's extrinsic(?) translation vector. <br /></td></tr>
<tr class="separator:a8ab5b4cedd560ec7a6e10ed58c9a07a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab20d8ac03883d092c20c77dcbea3b71c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab20d8ac03883d092c20c77dcbea3b71c"></a>
cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ab20d8ac03883d092c20c77dcbea3b71c">mFrame</a></td></tr>
<tr class="memdesc:ab20d8ac03883d092c20c77dcbea3b71c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The present frame received from the video stream. <br /></td></tr>
<tr class="separator:ab20d8ac03883d092c20c77dcbea3b71c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9116756f01fbf7939da2f898d943dca"><td class="memItemLeft" align="right" valign="top">DisplayFrameType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ac9116756f01fbf7939da2f898d943dca">mEmitFrameType</a></td></tr>
<tr class="memdesc:ac9116756f01fbf7939da2f898d943dca"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type (e.g.  <a href="#ac9116756f01fbf7939da2f898d943dca">More...</a><br /></td></tr>
<tr class="separator:ac9116756f01fbf7939da2f898d943dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ee0e595bf16621e254870f04626f62"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45ee0e595bf16621e254870f04626f62"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a45ee0e595bf16621e254870f04626f62">mStarted</a> = false</td></tr>
<tr class="memdesc:a45ee0e595bf16621e254870f04626f62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the video stream is started. <br /></td></tr>
<tr class="separator:a45ee0e595bf16621e254870f04626f62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93a3ab3b1ca5f47616ac994daf33e217"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93a3ab3b1ca5f47616ac994daf33e217"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a93a3ab3b1ca5f47616ac994daf33e217">mProjReady</a> = false</td></tr>
<tr class="memdesc:a93a3ab3b1ca5f47616ac994daf33e217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether there is enough projector data for transform. <br /></td></tr>
<tr class="separator:a93a3ab3b1ca5f47616ac994daf33e217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0232a7a768a35361f7df331e957a8dc0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0232a7a768a35361f7df331e957a8dc0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a0232a7a768a35361f7df331e957a8dc0">mStreamPaused</a> = false</td></tr>
<tr class="memdesc:a0232a7a768a35361f7df331e957a8dc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the stream is currently paused. <br /></td></tr>
<tr class="separator:a0232a7a768a35361f7df331e957a8dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684530788cdc39f33758ec2590392429"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a684530788cdc39f33758ec2590392429"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a684530788cdc39f33758ec2590392429">mFps</a></td></tr>
<tr class="memdesc:a684530788cdc39f33758ec2590392429"><td class="mdescLeft">&#160;</td><td class="mdescRight">The FPS of the video stream (=0 for webcam stream) <br /></td></tr>
<tr class="separator:a684530788cdc39f33758ec2590392429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8688b11aff0a2c013694288f2a38f760"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8688b11aff0a2c013694288f2a38f760"></a>
<a class="el" href="classKFBallTracker.html">KFBallTracker</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a8688b11aff0a2c013694288f2a38f760">mTracker</a></td></tr>
<tr class="memdesc:a8688b11aff0a2c013694288f2a38f760"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ball tracker; we give it frames, it gives us ball predictions. <br /></td></tr>
<tr class="separator:a8688b11aff0a2c013694288f2a38f760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd94132ac50274a2fbab74bdc2c0f074"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd94132ac50274a2fbab74bdc2c0f074"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#acd94132ac50274a2fbab74bdc2c0f074">mDisplayVideo</a> = true</td></tr>
<tr class="memdesc:acd94132ac50274a2fbab74bdc2c0f074"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether we should display video or not. <br /></td></tr>
<tr class="separator:acd94132ac50274a2fbab74bdc2c0f074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a727e9ad460936eed4b4c2c56500bdf2a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a727e9ad460936eed4b4c2c56500bdf2a"></a>
QPolygonF&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#a727e9ad460936eed4b4c2c56500bdf2a">mProjScreen</a></td></tr>
<tr class="memdesc:a727e9ad460936eed4b4c2c56500bdf2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Region to crop to if mClipTrack is on. <br /></td></tr>
<tr class="separator:a727e9ad460936eed4b4c2c56500bdf2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab44ee1ddda70629e3de216ad8f735166"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab44ee1ddda70629e3de216ad8f735166"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTrackingStream.html#ab44ee1ddda70629e3de216ad8f735166">mClipTrack</a> = false</td></tr>
<tr class="memdesc:ab44ee1ddda70629e3de216ad8f735166"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether we should clip tracking to the proj screen. <br /></td></tr>
<tr class="separator:ab44ee1ddda70629e3de216ad8f735166"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An object which owns some sort of input video stream, manages running it (and any tracking, etc) and emits cv::Mat frames and tracked objects. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7579ead32eb9110b84f8665c9eb6f72d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TrackingStream::cameraValid </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a camera index is valid. </p>
<p>Presently this does nothing... V4L detection on Linux seems a bit finicky and making this cross platform is an interesting problem. For now, it would seem reasonable if the program just be restarted in order to fix any issues here. </p>

</div>
</div>
<a class="anchor" id="aab0b2d4efe5723d8d71e072013d33ad9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::changeBallZ </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>z</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>changeBallZ sets the z-plane that the ball is thrown in (in inches) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">z</td><td>the z-distance from the projector plane in which the ball lies </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a13c95186d09320e6a56b0e072e268728"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::changeBlurSize </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>blurSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the strength of blur in preprocessing step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blurSize</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a1be9d5219a50b43f019de7ce2dcc1898"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::changeGravConstant </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the accel due to gravity g. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4fd621edf60cb02bca056853ff2f9984"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::changeMaxRadius </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>radius</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the max viable radius of a ball blob. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">radius</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6f10a83e710693e7100ebaaece3feed3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::changeMinRadius </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>radius</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the min viable radius of a ball blob. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">radius</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a74d1683447659a6d85d5818ee3ee7515"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::changeProjHeight </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>height</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>changeProjHeight sets the height of the projector screen (in inches) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">height</td><td>the height of the projector screen </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a679b2d4db152cc3e4f1699179d84724f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::changeProjWidth </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>width</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>changeProjWidth sets the width of the projector screen (in inches) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>the width of the projector screen </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac8ebcc20a79d5172594a58a623b69fec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::changeThreshVal </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>thresh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the threshold in preprocessing step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thresh</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ae32a3ab93ae95a448ed82e7142687cdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::changeXYCovariance </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>sigma</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the covariance in predicted X, Y (a KF parameter) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sigma</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afca5f3b76819d9195ada29e0d7d2697b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Point2f TrackingStream::imageToProjector </td>
          <td>(</td>
          <td class="paramtype">cv::Point2f&#160;</td>
          <td class="paramname"><em>imP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>z</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert image coordinates to projector coordinates. </p>
<p>Like most things, converting image coordinates (i.e. what the camera sees) to projector coordinates (world coordinates, where the top left corner of the projector is the origin) is just linear algebra.</p>
<p>This is the inverse of projectorToImage</p>
<p>The players:</p><ul>
<li>R = <a class="el" href="classTrackingStream.html#ada535422209fba660899dc3f7d41ddef" title="The camera&#39;s extrinsic(?) rotation matrix. ">mRMatrix</a>, the camera rotation matrix</li>
<li>C = <a class="el" href="classTrackingStream.html#a8b4a91278c9dc671d43e8284c2fa92a6" title="The intrinsic camera matrix. ">mCameraMatrix</a>, the intrinsic camera matrix</li>
<li>T = <a class="el" href="classTrackingStream.html#a8ab5b4cedd560ec7a6e10ed58c9a07a4" title="The camera&#39;s extrinsic(?) translation vector. ">mTVector</a>, the camera translation vector</li>
<li>p = [<code>imP</code>, 1], the image point in homogeneous coordinates</li>
<li>z = the (a priori known) z-coordinate of the point in world coords</li>
<li>q = [X, Y, z] the world coordinates of the point p</li>
<li><p class="startli">s = Scaling factor that comes from transformation... picks appropriate point on the line projecting to p with the input z coordinate</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[s = (z + (R^{-1}T)_{2,0}) / (R^{-1}C^{-1}p)_{2,0}\]" src="form_2.png"/>
</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[q = R^{-1}(sC^{-1}p - T)\]" src="form_3.png"/>
</p>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imP</td><td>image point (x,y) to translate to world coordinates </td></tr>
    <tr><td class="paramname">z</td><td>a priori known world z-coordinate of the point to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="acf2d0509a86137709afca937984a0287"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QPointF TrackingStream::imageToProjector </td>
          <td>(</td>
          <td class="paramtype">QPointF&#160;</td>
          <td class="paramname"><em>imP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>z</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert image coordinates to projector coordinates (qt) </p>
<p>A wrapper that works with Qt objects instead of opencv objects</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">imP</td><td>image point (x,y) to translate to world coordinates </td></tr>
    <tr><td class="paramname">z</td><td>a priori known world z-coordinate of the point to find </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a1ba5b7036c99fb6da85d57c0db9b10dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cv::Point2f TrackingStream::projectorToImage </td>
          <td>(</td>
          <td class="paramtype">cv::Point3d&#160;</td>
          <td class="paramname"><em>prP</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>projectorToImage converts projector (world) coords to image coords </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prP</td><td>the point in world coordinates </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the image pixel corresponding to prP </dd></dl>

</div>
</div>
<a class="anchor" id="abf01ea9fb604e3d748c28827562b3a6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TrackingStream::timerEvent </td>
          <td>(</td>
          <td class="paramtype">QTimerEvent *&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process a timer event: Read the next frame, process it, emit it. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a74a9669165a38a0e3027d4fd9f8c60ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;cv::Point2f&gt; TrackingStream::mCorners</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The location of projector coordinates in the image. </p>
<p>Order is important: expected NW, SW, SE, NE (counterclockwise) </p>

</div>
</div>
<a class="anchor" id="ac9116756f01fbf7939da2f898d943dca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DisplayFrameType TrackingStream::mEmitFrameType</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The type (e.g. </p>
<p>video, thresh...) of frame to emit </p>

</div>
</div>
<a class="anchor" id="a34d7229ae0abe3f2f2d41e7e1ba6db7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int TrackingStream::mFov</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The FOV of the camera. </p>
<p>A PS2 Eye has two settings:</p><ul>
<li>Red dot: 56deg, close up</li>
<li>Blue dot: 75deg, wide view</li>
</ul>
<p>The smaller FOV is expected to cause less distortion, although it is likely to have less in the frame. </p>

</div>
</div>
<a class="anchor" id="a7c4a1620f5b3ad8ee91cc40aa586c7bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat TrackingStream::mProjCornersCamera</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The location of projector coordinates in world (real units) </p>
<p>Order is important: expected NW, SW, SE, NE (counterclockwise) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TrackingStream_8hpp_source.html">TrackingStream.hpp</a></li>
<li>TrackingStream.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
